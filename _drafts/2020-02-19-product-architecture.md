---
title: 产品架构分享会逐字稿
date: 2020-02-19
---


### 产品架构
产品架构这个词比较宽泛，针对信息型产品，可能叫信息架构，针对功能型产品，可能叫功能架构。

产品架构更多的表示信息架构和功能架构的总称。

当然，具体叫什么并不重要，重要的是把一个产品未来的发展方向，描述清楚就可以了。

架构模型

画架构图，有一些固有的模型，可分为层次结构，自然结构，线性结构以及矩阵结构。

广泛使用的就是层次结构。

在层次结构中，不同的产品架构图，表现也不一样。有的会表现出宽而浅；有点表现出窄而深；

例如：淘宝肯定表现的得宽而浅，因为业务范围太大，已经不仅仅只是购物这么简单了；而唯品会的话，可能就会表现相对窄而深，因为它主要针对电商的某个垂直领域。


至于怎么画，主要还得看产品自身的定位以及所关注的测重点在哪里。




### 输入层

数据判读软件，最底层的输入端是来自客户的试验数据。

我把这个叫做输入层，对于产品来说，这里的工作相对比较被动，但是由于咱们软件所在行业的特殊型，这里的工作还是非常重要的。

>  从龙哥那边了解，张老师那边可能想要做成像 Office 那样的软件平台，但是咱们与之不同的是，我们需要做用户使用习惯的工作，而 Office 是软件时代的开创，它是带领用户习惯的。
> 所以，你看，我们现在的 Windows 桌面端软件，几乎都是照着 Office 软件的界面设计的。这就是差距。
>  这些都是题外话了。

我这里单独把管理规范列出来了，也是我们要去做的工作，从之前几次项目组的沟通会上了解到，目前咱们开发人员的痛点，从大面上讲，其实就是两点：数据标准化问题，以及业务流程标准化问题。

回到数据的输入层，咱们客户端的试验数据分为三种类型，文本数据，原始二进制，以及数据数据。

>  年前四院四部，不是就已经提出直接对接数据库的需求了，我相信这个未来应该是趋势，随着客户端数据管理平台的上线，慢慢应该都会向这个方向发展。

然而往上，数据的产生形式有两类：实时数据，以及滞后数据。

>  这块也是龙哥建议要区分开的，我认为还是有必要的，两种形式对于数据预处理来说，采用的是不同的技术，这个后面再说。

输入层这块就说完了，接下来往上是数据层。

### 数据接入层

实际上，这一层才是咱们平台的最底层，首先要解决的问题是，输入过来的数据，如何接入？

> 这块原本想要作为独立的接入层，但是没有往下细化了，这里也还在考虑中，也可以听听大家的意见。

说到这，涉及一个问题，那就是层与层之间到底是什么关系，什么标准划分？

这里说一下我这里的标准，那就是解耦，每一层都可以拎出来作为独立的产品，也就是说每一层都需要定义输入以及输出的接口。

回到这里，我认为数据接入其实是可以作为独立产品的。

因为目前我们专注于航天研究所这个特定行业，有一定的优势，假如我们把所有的研究所的判读数据接入这块做了，其实是可以形成一个平台化的产品，这个产品也许就是一个 API，但是盘子够大，价值还是很明显的。

类似与 Windows 操作系统接管了所有电脑硬件。当然，这个比喻有点不自量力啊。

### 预处理 & 存储

接入了数据之后，接下来就是数据预处理以及存储的过程。

这块就简单说一下，其实这块的技术比较成熟了，关键是要根据业务，定义好数据格式以及数据规范。

预处理这里，我分为了三类，前面两类是大数据这块的技术。

- 流处理主要针对实时数据的处理，主要应用从设备传感器直接拿到数据，进行预处理，对应的业务场景后面再说；
- 批处理主要针对超大数据的处理，以 G 或 T 为单位的数据，传统内存的方式可能无法处理的情况；

数据存储这里，分为了数据库管理、存储管理以及文件管理等。

这块的技术也都比较成熟了，例如数据库的分布式方案，Redis 做缓存，NAS 做文件管理。

这里简单提一下，后续细化再具体研究。

### 分析层

数据到这一层，已经相对规范了，接下使用统计分析、数据挖掘以及机器学习等技术，对这些数据进行分析，进一步挖掘其价值。

这里单独作为一层，因为在我看到，这是整个产品的核心竞争力。

什么是核心竞争力？核心竞争力是用来提高门槛的，别人即使模仿，也很难模仿到。

例如，针对实际业务，一些自主研发的算法；再例如，根据业务数据，训练出来的人工智能模型。

这些便形成了这个产品的核心竞争力。

### 业务层

业务层这里分为了上下两层，下面的资源库、用户中心以及文档管理，都是产品的一些基础功能模块。

别看简简单单的几个框，其实要做的工作挺多的，例如在判读函数库这里，眼前要做的工作就有整理分类，那么如何分类，分类原则是什么？分类的维度又怎么定义？怎么跟不同客户，不同用户角色进行匹配？这些都是要去细化的工作。

再一个，我个人认为非常重要的一个功能模块，就是文档，这里的工作同样非常多。

不谈全文检索这块，光是在线文档，都是需要画大量时间和精力去做的工作。

当然这些内容的细化工作，以及优先级怎么定，还需要项目组一块去定。

接下来就是上层的微服务了，这是


### 负载层

微服务应用的部署，就会涉及到负载均衡以及资源调度的相关技术了。

这块内容离咱们可能还有一段距离，当需要考虑到这一块的时候，说明咱们 SealLab 平台已经具备一定规模了。

这一块的实施也就是水到渠成的事了。

### 展示层
最后一层是展示层，主要就是三个方向：浏览器端、桌面端以及移动端。

这一层关键要考虑就是功能的取舍，以及用户体验的问题了。

移动端提供的功能以及服务，肯定不能全部照搬桌面端，其中会涉及到屏幕限制以及技术限制，对功能的取舍问题。

当然，最重要是，根据业务需求，最大化用户价值。